<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assig5: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assig5
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">IMPLEMENTAÇÃO DE UM SISTEMA DE CONTROLO EM MALHA FECHADA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Descrição da <a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Descrição da main()">main()</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;zephyr.h&gt;</code><br />
<code>#include &lt;device.h&gt;</code><br />
<code>#include &lt;drivers/gpio.h&gt;</code><br />
<code>#include &lt;drivers/adc.h&gt;</code><br />
<code>#include &lt;drivers/uart.h&gt;</code><br />
<code>#include &lt;timing/timing.h&gt;</code><br />
<code>#include &lt;sys/printk.h&gt;</code><br />
<code>#include &lt;sys/__assert.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;drivers/pwm.h&gt;</code><br />
<code>#include &lt;console/console.h&gt;</code><br />
<code>#include &lt;hal/nrf_saadc.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#main_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__item__t.html">data_item_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aabfdd434c3f5fc98789fd65dc741f3f5"><td class="memItemLeft" align="right" valign="top"><a id="aabfdd434c3f5fc98789fd65dc741f3f5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAIN_SLEEP_TIME_MS</b>&#160;&#160;&#160;10 /* Time between <a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">main</a>() activations */</td></tr>
<tr class="separator:aabfdd434c3f5fc98789fd65dc741f3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46777f75164fc107271e38f1f773e4d"><td class="memItemLeft" align="right" valign="top"><a id="aa46777f75164fc107271e38f1f773e4d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FATAL_ERR</b>&#160;&#160;&#160;-1 /* Fatal error return code, app terminates */</td></tr>
<tr class="separator:aa46777f75164fc107271e38f1f773e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1ea1c93b9d5909b8dae955d03de583"><td class="memItemLeft" align="right" valign="top"><a id="a5a1ea1c93b9d5909b8dae955d03de583"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UART_NID</b>&#160;&#160;&#160;DT_NODELABEL(uart0)    /* UART Node label, see dts */</td></tr>
<tr class="separator:a5a1ea1c93b9d5909b8dae955d03de583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630686ccbe0cb17e592951055a5da582"><td class="memItemLeft" align="right" valign="top"><a id="a630686ccbe0cb17e592951055a5da582"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RXBUF_SIZE</b>&#160;&#160;&#160;60                   /* RX buffer size */</td></tr>
<tr class="separator:a630686ccbe0cb17e592951055a5da582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923af2d146f214e75816a7f5993cee29"><td class="memItemLeft" align="right" valign="top"><a id="a923af2d146f214e75816a7f5993cee29"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TXBUF_SIZE</b>&#160;&#160;&#160;60                   /* TX buffer size */</td></tr>
<tr class="separator:a923af2d146f214e75816a7f5993cee29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6426fc74901f4fbec94862ebb672b81"><td class="memItemLeft" align="right" valign="top"><a id="ab6426fc74901f4fbec94862ebb672b81"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RX_TIMEOUT</b>&#160;&#160;&#160;1000                 /* Inactivity period after the instant when last char was received that triggers an rx event (in us) */</td></tr>
<tr class="separator:ab6426fc74901f4fbec94862ebb672b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6423a880df59733d2d9b509c7718d3a9"><td class="memItemLeft" align="right" valign="top"><a id="a6423a880df59733d2d9b509c7718d3a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STACK_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a6423a880df59733d2d9b509c7718d3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0177ad7b962b1d5558691124bd1f87"><td class="memItemLeft" align="right" valign="top"><a id="a0f0177ad7b962b1d5558691124bd1f87"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ADC_Sample_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a0f0177ad7b962b1d5558691124bd1f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a563355e222abdae6e64c12d04cd18f8c"><td class="memItemLeft" align="right" valign="top"><a id="a563355e222abdae6e64c12d04cd18f8c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_PWM_DutyCycle_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a563355e222abdae6e64c12d04cd18f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4e7052ed948196c10812a81e5450f9"><td class="memItemLeft" align="right" valign="top"><a id="abd4e7052ed948196c10812a81e5450f9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Insert_Value_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abd4e7052ed948196c10812a81e5450f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06bce4d00fc4719da2b4cd02ea7b5955"><td class="memItemLeft" align="right" valign="top"><a id="a06bce4d00fc4719da2b4cd02ea7b5955"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ControladorP_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a06bce4d00fc4719da2b4cd02ea7b5955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c1cf61f8f086ff384225059c2c83b5"><td class="memItemLeft" align="right" valign="top"><a id="a67c1cf61f8f086ff384225059c2c83b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Calendario_prio</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a67c1cf61f8f086ff384225059c2c83b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7829e7c5c37ea8a78e879aa2028dfb21"><td class="memItemLeft" align="right" valign="top"><a id="a7829e7c5c37ea8a78e879aa2028dfb21"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SAMP_PERIOD_MS</b>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a7829e7c5c37ea8a78e879aa2028dfb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7916e7e2e7ed9a97cb9d2dd8cfa1fecd"><td class="memItemLeft" align="right" valign="top"><a id="a7916e7e2e7ed9a97cb9d2dd8cfa1fecd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SAMP_PERIOD_C</b>&#160;&#160;&#160;30000</td></tr>
<tr class="separator:a7916e7e2e7ed9a97cb9d2dd8cfa1fecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0e6f34369bef1deb3a9efae6ac14fb"><td class="memItemLeft" align="right" valign="top"><a id="a4c0e6f34369bef1deb3a9efae6ac14fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO0_NID</b>&#160;&#160;&#160;DT_NODELABEL(gpio0)</td></tr>
<tr class="separator:a4c0e6f34369bef1deb3a9efae6ac14fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c05b8933cd253785fdd123f6dbfc18"><td class="memItemLeft" align="right" valign="top"><a id="ad3c05b8933cd253785fdd123f6dbfc18"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOARDBUT1</b>&#160;&#160;&#160;11 /* Pin at which BUT1 is connected. Addressing is direct (i.e., pin number) */</td></tr>
<tr class="separator:ad3c05b8933cd253785fdd123f6dbfc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590d906828bd5948fafbef47dc1c3b0c"><td class="memItemLeft" align="right" valign="top"><a id="a590d906828bd5948fafbef47dc1c3b0c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOARDBUT2</b>&#160;&#160;&#160;12 /* Pin at which BUT2 is connected. Addressing is direct (i.e., pin number) */</td></tr>
<tr class="separator:a590d906828bd5948fafbef47dc1c3b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e82ac21050552495e5a8551178bf258"><td class="memItemLeft" align="right" valign="top"><a id="a2e82ac21050552495e5a8551178bf258"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOARDBUT3</b>&#160;&#160;&#160;24 /* Pin at which BUT3 is connected. Addressing is direct (i.e., pin number) */</td></tr>
<tr class="separator:a2e82ac21050552495e5a8551178bf258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee96e1280405ff973ee2b6b07eec104"><td class="memItemLeft" align="right" valign="top"><a id="abee96e1280405ff973ee2b6b07eec104"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOARDBUT4</b>&#160;&#160;&#160;25 /* Pin at which BUT4 is connected. Addressing is direct (i.e., pin number) */</td></tr>
<tr class="separator:abee96e1280405ff973ee2b6b07eec104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667158ed9af1b72bf062e54bda71dd4f"><td class="memItemLeft" align="right" valign="top"><a id="a667158ed9af1b72bf062e54bda71dd4f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_NID</b>&#160;&#160;&#160;DT_NODELABEL(adc)</td></tr>
<tr class="separator:a667158ed9af1b72bf062e54bda71dd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00978ca9e8220475258dcbbbb7d29129"><td class="memItemLeft" align="right" valign="top"><a id="a00978ca9e8220475258dcbbbb7d29129"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_RESOLUTION</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a00978ca9e8220475258dcbbbb7d29129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbc7e1578f01928d36ef7fa94ac4905"><td class="memItemLeft" align="right" valign="top"><a id="a2bbc7e1578f01928d36ef7fa94ac4905"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_GAIN</b>&#160;&#160;&#160;ADC_GAIN_1_4</td></tr>
<tr class="separator:a2bbc7e1578f01928d36ef7fa94ac4905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317868c528ebe27fbca094a8bc2d910c"><td class="memItemLeft" align="right" valign="top"><a id="a317868c528ebe27fbca094a8bc2d910c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_REFERENCE</b>&#160;&#160;&#160;ADC_REF_VDD_1_4</td></tr>
<tr class="separator:a317868c528ebe27fbca094a8bc2d910c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8de5967ac4465f35317d818eeb129b"><td class="memItemLeft" align="right" valign="top"><a id="aeb8de5967ac4465f35317d818eeb129b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_ACQUISITION_TIME</b>&#160;&#160;&#160;ADC_ACQ_TIME(ADC_ACQ_TIME_MICROSECONDS, 40)</td></tr>
<tr class="separator:aeb8de5967ac4465f35317d818eeb129b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfca74ee546715af6682194ea92286a"><td class="memItemLeft" align="right" valign="top"><a id="a8bfca74ee546715af6682194ea92286a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_CHANNEL_ID</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a8bfca74ee546715af6682194ea92286a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5508ef7e762284248c2e87e16865522e"><td class="memItemLeft" align="right" valign="top"><a id="a5508ef7e762284248c2e87e16865522e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_CHANNEL_INPUT</b>&#160;&#160;&#160;NRF_SAADC_INPUT_AIN1</td></tr>
<tr class="separator:a5508ef7e762284248c2e87e16865522e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top"><a id="a6b20d41d6252e9871430c242cb1a56e7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_SIZE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b150a8660d0152dfde25b42c1755f"><td class="memItemLeft" align="right" valign="top"><a id="ab48b150a8660d0152dfde25b42c1755f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PWM0_NID</b>&#160;&#160;&#160;DT_NODELABEL(pwm0)</td></tr>
<tr class="separator:ab48b150a8660d0152dfde25b42c1755f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e62e873d067860b696a1f47b60916a"><td class="memItemLeft" align="right" valign="top"><a id="a66e62e873d067860b696a1f47b60916a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BOARDLED_PIN</b>&#160;&#160;&#160;DT_PROP(PWM0_NID, ch0_pin)</td></tr>
<tr class="separator:a66e62e873d067860b696a1f47b60916a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5b2eb7c61969e61bef72eeb48dd058d"><td class="memItemLeft" align="right" valign="top"><a id="ab5b2eb7c61969e61bef72eeb48dd058d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_uart</b> (void)</td></tr>
<tr class="separator:ab5b2eb7c61969e61bef72eeb48dd058d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6867f4cca3d99a61fc3e4694650f39c8"><td class="memItemLeft" align="right" valign="top"><a id="a6867f4cca3d99a61fc3e4694650f39c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_ADC_Sample_stack, STACK_SIZE)</td></tr>
<tr class="separator:a6867f4cca3d99a61fc3e4694650f39c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e89e0c5e0d70e8902131ae77f925d0"><td class="memItemLeft" align="right" valign="top"><a id="a90e89e0c5e0d70e8902131ae77f925d0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_PWM_DutyCycle_stack, STACK_SIZE)</td></tr>
<tr class="separator:a90e89e0c5e0d70e8902131ae77f925d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90306cf1d794f33bd40e8dea8e30eb70"><td class="memItemLeft" align="right" valign="top"><a id="a90306cf1d794f33bd40e8dea8e30eb70"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_Insert_Value_stack, STACK_SIZE)</td></tr>
<tr class="separator:a90306cf1d794f33bd40e8dea8e30eb70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929de3dbe7f94ed932b106dfca69c87f"><td class="memItemLeft" align="right" valign="top"><a id="a929de3dbe7f94ed932b106dfca69c87f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_ControladorP_stack, STACK_SIZE)</td></tr>
<tr class="separator:a929de3dbe7f94ed932b106dfca69c87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8b4c55a638bdbedc8e6274c724aa7d"><td class="memItemLeft" align="right" valign="top"><a id="a7f8b4c55a638bdbedc8e6274c724aa7d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>K_THREAD_STACK_DEFINE</b> (thread_Calendario_stack, STACK_SIZE)</td></tr>
<tr class="separator:a7f8b4c55a638bdbedc8e6274c724aa7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f74c238e267f88c13289edcab3a2b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a98f74c238e267f88c13289edcab3a2b9">thread_ADC_Sample_code</a> (void *argA, void *argB, void *argC)</td></tr>
<tr class="memdesc:a98f74c238e267f88c13289edcab3a2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da <a class="el" href="main_8c.html#a98f74c238e267f88c13289edcab3a2b9" title="Descrição da thread_ADC_Sample_code()">thread_ADC_Sample_code()</a>  <a href="main_8c.html#a98f74c238e267f88c13289edcab3a2b9">More...</a><br /></td></tr>
<tr class="separator:a98f74c238e267f88c13289edcab3a2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29895347497403c5f71d16b739fde6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae29895347497403c5f71d16b739fde6f">thread_PWM_DutyCycle_code</a> (void *argA, void *argB, void *argC)</td></tr>
<tr class="memdesc:ae29895347497403c5f71d16b739fde6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da <a class="el" href="main_8c.html#ae29895347497403c5f71d16b739fde6f" title="Descrição da thread_PWM_DutyCycle_code()">thread_PWM_DutyCycle_code()</a>  <a href="main_8c.html#ae29895347497403c5f71d16b739fde6f">More...</a><br /></td></tr>
<tr class="separator:ae29895347497403c5f71d16b739fde6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933249ce2cfe73e06623d8a1295479e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2">thread_Insert_Value_code</a> (void *argA, void *argB, void *argC)</td></tr>
<tr class="memdesc:a933249ce2cfe73e06623d8a1295479e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da função de configuraçãoo <a class="el" href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2" title="Descrição da função de configuraçãoo thread_Insert_Value_code()">thread_Insert_Value_code()</a>  <a href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2">More...</a><br /></td></tr>
<tr class="separator:a933249ce2cfe73e06623d8a1295479e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5ac9fc501997e3e661dd3317d0a386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3d5ac9fc501997e3e661dd3317d0a386">thread_ControladorP_code</a> (void *argA, void *argB, void *argC)</td></tr>
<tr class="memdesc:a3d5ac9fc501997e3e661dd3317d0a386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da função de configuração da <a class="el" href="main_8c.html#a3d5ac9fc501997e3e661dd3317d0a386" title="Descrição da função de configuração da thread_ControladorP_code()">thread_ControladorP_code()</a>  <a href="main_8c.html#a3d5ac9fc501997e3e661dd3317d0a386">More...</a><br /></td></tr>
<tr class="separator:a3d5ac9fc501997e3e661dd3317d0a386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b56d46175cdd6294ef89dcdaeac32c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9b56d46175cdd6294ef89dcdaeac32c2">thread_Calendario_code</a> (void *argA, void *argB, void *argC)</td></tr>
<tr class="memdesc:a9b56d46175cdd6294ef89dcdaeac32c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da <a class="el" href="main_8c.html#a9b56d46175cdd6294ef89dcdaeac32c2" title="Descrição da thread_Calendario_code()">thread_Calendario_code()</a>  <a href="main_8c.html#a9b56d46175cdd6294ef89dcdaeac32c2">More...</a><br /></td></tr>
<tr class="separator:a9b56d46175cdd6294ef89dcdaeac32c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b3d43c12bc9091419b0313b123a984"><td class="memItemLeft" align="right" valign="top"><a id="a36b3d43c12bc9091419b0313b123a984"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>configure_pins_board</b> (void)</td></tr>
<tr class="separator:a36b3d43c12bc9091419b0313b123a984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d90a3db3be4d74a95d59cb9bc36764"><td class="memItemLeft" align="right" valign="top"><a id="ae7d90a3db3be4d74a95d59cb9bc36764"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>but1press_cbfunction</b> (const struct device *dev, struct gpio_callback *cb, uint32_t pins)</td></tr>
<tr class="separator:ae7d90a3db3be4d74a95d59cb9bc36764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">main</a> (void)</td></tr>
<tr class="memdesc:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descrição da <a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Descrição da main()">main()</a>  <a href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667">More...</a><br /></td></tr>
<tr class="separator:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9786dd6a7105357cad49ad8eec273c15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9786dd6a7105357cad49ad8eec273c15">block_print</a> = 0</td></tr>
<tr class="memdesc:a9786dd6a7105357cad49ad8eec273c15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag que quando ativada (block_print = 1) bloqueia todos os prints enquanto são introduzidos valores na thread <a class="el" href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2" title="Descrição da função de configuraçãoo thread_Insert_Value_code()">thread_Insert_Value_code()</a>.  <a href="main_8c.html#a9786dd6a7105357cad49ad8eec273c15">More...</a><br /></td></tr>
<tr class="separator:a9786dd6a7105357cad49ad8eec273c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8265742cf0fd4ebe20e3f78aa79531a"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af8265742cf0fd4ebe20e3f78aa79531a">u</a> = 0</td></tr>
<tr class="memdesc:af8265742cf0fd4ebe20e3f78aa79531a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sinal de controlo do controlador P.  <a href="main_8c.html#af8265742cf0fd4ebe20e3f78aa79531a">More...</a><br /></td></tr>
<tr class="separator:af8265742cf0fd4ebe20e3f78aa79531a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31cdd06723ceea6571330810625af1b"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa31cdd06723ceea6571330810625af1b">setpoint</a> = -1</td></tr>
<tr class="memdesc:aa31cdd06723ceea6571330810625af1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variável do controlador com o valor introduzido pelo utilizador para o brilho do LED.  <a href="main_8c.html#aa31cdd06723ceea6571330810625af1b">More...</a><br /></td></tr>
<tr class="separator:aa31cdd06723ceea6571330810625af1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846de3054c899e0c47488f92bdff8637"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a846de3054c899e0c47488f92bdff8637">Brilho</a> = 0</td></tr>
<tr class="memdesc:a846de3054c899e0c47488f92bdff8637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valor introduzido pelo utilizador para o Brilho.  <a href="main_8c.html#a846de3054c899e0c47488f92bdff8637">More...</a><br /></td></tr>
<tr class="separator:a846de3054c899e0c47488f92bdff8637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59c67fb2cb37b843493767aa526663c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af59c67fb2cb37b843493767aa526663c">Hora</a> = 0</td></tr>
<tr class="memdesc:af59c67fb2cb37b843493767aa526663c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valor introduzido pelo utilizador para a hora.  <a href="main_8c.html#af59c67fb2cb37b843493767aa526663c">More...</a><br /></td></tr>
<tr class="separator:af59c67fb2cb37b843493767aa526663c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0680f85ca8b2902b7d070b666149c466"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0680f85ca8b2902b7d070b666149c466">luz</a> = 0</td></tr>
<tr class="memdesc:a0680f85ca8b2902b7d070b666149c466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valor a incrementar/decrementar ao duty-cycle no modo manual.  <a href="main_8c.html#a0680f85ca8b2902b7d070b666149c466">More...</a><br /></td></tr>
<tr class="separator:a0680f85ca8b2902b7d070b666149c466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab0d7c5e7d5008a33bde6def2d2ef90"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aeab0d7c5e7d5008a33bde6def2d2ef90">auto_flag</a> = 0</td></tr>
<tr class="memdesc:aeab0d7c5e7d5008a33bde6def2d2ef90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag que indica quando o modo automático é ativado (auto_flag = 1 quando o modo é selecionado).  <a href="main_8c.html#aeab0d7c5e7d5008a33bde6def2d2ef90">More...</a><br /></td></tr>
<tr class="separator:aeab0d7c5e7d5008a33bde6def2d2ef90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebd0f387abd8e0f8b284f7433de1a3b"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3ebd0f387abd8e0f8b284f7433de1a3b">man_flag</a> = 0</td></tr>
<tr class="memdesc:a3ebd0f387abd8e0f8b284f7433de1a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag que indica quando o modo manual é ativado (man_flag = 1 quando modo é selecionado).  <a href="main_8c.html#a3ebd0f387abd8e0f8b284f7433de1a3b">More...</a><br /></td></tr>
<tr class="separator:a3ebd0f387abd8e0f8b284f7433de1a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbb8dc9e34f2cbd68792504dc18da81"><td class="memItemLeft" align="right" valign="top">const struct uart_config&#160;</td><td class="memItemRight" valign="bottom"><b>uart_cfg</b></td></tr>
<tr class="separator:acbbb8dc9e34f2cbd68792504dc18da81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660f23134aaae43c9ff2c6096fa59342"><td class="memItemLeft" align="right" valign="top"><a id="a660f23134aaae43c9ff2c6096fa59342"></a>
const struct device *&#160;</td><td class="memItemRight" valign="bottom"><b>uart_dev</b></td></tr>
<tr class="separator:a660f23134aaae43c9ff2c6096fa59342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8602e618ecd67a430b4e7582fd69bd51"><td class="memItemLeft" align="right" valign="top"><a id="a8602e618ecd67a430b4e7582fd69bd51"></a>
volatile int&#160;</td><td class="memItemRight" valign="bottom"><b>uart_rx_rdy_flag</b></td></tr>
<tr class="separator:a8602e618ecd67a430b4e7582fd69bd51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10d925c769d61749a2c03cbc08accf9"><td class="memItemLeft" align="right" valign="top"><a id="aa10d925c769d61749a2c03cbc08accf9"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>welcome_mesg</b> [] = &quot;UART demo: Type a few chars in a row and then pause for a little while ...\n\r&quot;</td></tr>
<tr class="separator:aa10d925c769d61749a2c03cbc08accf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce68847c12434f60d1b2654a3dc3409"><td class="memItemLeft" align="right" valign="top"><a id="a6ce68847c12434f60d1b2654a3dc3409"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>err</b> = 0</td></tr>
<tr class="separator:a6ce68847c12434f60d1b2654a3dc3409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a480200b92d24ef74a3d1673fe80352"><td class="memItemLeft" align="right" valign="top"><a id="a3a480200b92d24ef74a3d1673fe80352"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>rep_mesg</b> [TXBUF_SIZE]</td></tr>
<tr class="separator:a3a480200b92d24ef74a3d1673fe80352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13888fb95302bc6cad26846513d423dc"><td class="memItemLeft" align="right" valign="top"><a id="a13888fb95302bc6cad26846513d423dc"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ADC_Sample_data</b></td></tr>
<tr class="separator:a13888fb95302bc6cad26846513d423dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b26e685d278a3cddbb7462038505af7"><td class="memItemLeft" align="right" valign="top"><a id="a6b26e685d278a3cddbb7462038505af7"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_PWM_DutyCycle_data</b></td></tr>
<tr class="separator:a6b26e685d278a3cddbb7462038505af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27246d7791dbe8daba64f17b06d06cc"><td class="memItemLeft" align="right" valign="top"><a id="aa27246d7791dbe8daba64f17b06d06cc"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Insert_Value_data</b></td></tr>
<tr class="separator:aa27246d7791dbe8daba64f17b06d06cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb01f5e981123db77ae491bb75793919"><td class="memItemLeft" align="right" valign="top"><a id="abb01f5e981123db77ae491bb75793919"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ControladorP_data</b></td></tr>
<tr class="separator:abb01f5e981123db77ae491bb75793919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7555430d89ad1e62f674f3480bf4d199"><td class="memItemLeft" align="right" valign="top"><a id="a7555430d89ad1e62f674f3480bf4d199"></a>
struct k_thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Calendario_data</b></td></tr>
<tr class="separator:a7555430d89ad1e62f674f3480bf4d199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b9b850edc573caaddf1dac5529e35e"><td class="memItemLeft" align="right" valign="top"><a id="a21b9b850edc573caaddf1dac5529e35e"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ADC_Sample_tid</b></td></tr>
<tr class="separator:a21b9b850edc573caaddf1dac5529e35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8d3a1335834af75769a5992bafa473"><td class="memItemLeft" align="right" valign="top"><a id="a1f8d3a1335834af75769a5992bafa473"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_PWM_DutyCycle_tid</b></td></tr>
<tr class="separator:a1f8d3a1335834af75769a5992bafa473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56184fe548401ec89133e0a666736925"><td class="memItemLeft" align="right" valign="top"><a id="a56184fe548401ec89133e0a666736925"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Insert_Value_tid</b></td></tr>
<tr class="separator:a56184fe548401ec89133e0a666736925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75614d9c3da80b3b74b97f02ecfd927"><td class="memItemLeft" align="right" valign="top"><a id="af75614d9c3da80b3b74b97f02ecfd927"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_ControladorP_tid</b></td></tr>
<tr class="separator:af75614d9c3da80b3b74b97f02ecfd927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad9df6da31608c91354addad3ad3867"><td class="memItemLeft" align="right" valign="top"><a id="a7ad9df6da31608c91354addad3ad3867"></a>
k_tid_t&#160;</td><td class="memItemRight" valign="bottom"><b>thread_Calendario_tid</b></td></tr>
<tr class="separator:a7ad9df6da31608c91354addad3ad3867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb1eb4987b96fa79258a436387ed0ad"><td class="memItemLeft" align="right" valign="top"><a id="a5fb1eb4987b96fa79258a436387ed0ad"></a>
struct k_fifo&#160;</td><td class="memItemRight" valign="bottom"><b>fifo_ADC_PWM</b></td></tr>
<tr class="separator:a5fb1eb4987b96fa79258a436387ed0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2989835f863453395dce5cde2eef79d4"><td class="memItemLeft" align="right" valign="top"><a id="a2989835f863453395dce5cde2eef79d4"></a>
struct k_fifo&#160;</td><td class="memItemRight" valign="bottom"><b>fifo_PWM_P</b></td></tr>
<tr class="separator:a2989835f863453395dce5cde2eef79d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc07e4d06ee2d8fed78633282ed5ee1"><td class="memItemLeft" align="right" valign="top"><a id="a3bc07e4d06ee2d8fed78633282ed5ee1"></a>
struct k_fifo&#160;</td><td class="memItemRight" valign="bottom"><b>fifo_Calendario</b></td></tr>
<tr class="separator:a3bc07e4d06ee2d8fed78633282ed5ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8529dec83e91f71d383fb84302cfb27"><td class="memItemLeft" align="right" valign="top"><a id="ac8529dec83e91f71d383fb84302cfb27"></a>
const struct device *&#160;</td><td class="memItemRight" valign="bottom"><b>gpio0_dev</b></td></tr>
<tr class="separator:ac8529dec83e91f71d383fb84302cfb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6baa346e44f4c2158d2be4f9b77b8203"><td class="memItemLeft" align="right" valign="top"><a id="a6baa346e44f4c2158d2be4f9b77b8203"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ret</b> = 0</td></tr>
<tr class="separator:a6baa346e44f4c2158d2be4f9b77b8203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445f79326d40128ece59a749adff6894"><td class="memItemLeft" align="right" valign="top"><a id="a445f79326d40128ece59a749adff6894"></a>
const struct device *&#160;</td><td class="memItemRight" valign="bottom"><b>adc_dev</b> = NULL</td></tr>
<tr class="separator:a445f79326d40128ece59a749adff6894"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Descrição da <a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Descrição da main()">main()</a> </p>
<p>Este programa foi desenvolvido por forma a implementar um sistema de controlo de iluminação de um LED. O controlo do LED tem dois modos: manual e automático. No modo manual é ajustado o brilho do led manualmente pelo utiizador, aumentando ou diminuindo o brilho através dos botões da PIC. <br  />
No modo automático é feita a programação do brilho do led ao longo de um dia (cada hora, de 0-23h, é programável). O ajuste do brilho para uma dada hora será feito através de um controlador P que irá calcular o erro entre o valor definido pelo utilizador para uma dada hora e o brilho atual do led, medido pelo fototransistor. <br  />
O Sistema foi implementado através de threads, sendo a comunicação entre processos feita através de FIFOs. <br  />
Foi ainda implementado o módulo de ADC para a leitura dos valores do fototransistor, com uma frequência de amostragem de 1Hz. <br  />
O sinal PWM gerado para alterar o brilho do LED foi implementado com uma frequência de 10KHz.</p>
<dl class="section author"><dt>Author</dt><dd>Beatriz Carvas <br  />
 Dário Fernandes <br  />
 Guilherme Cajeira </dd></dl>
<dl class="section date"><dt>Date</dt><dd>21 de junho de 2022 </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>O controlo do brilho no modo automático não está a funcionar em condições. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6288eba0f8e8ad3ab1544ad731eb7667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6288eba0f8e8ad3ab1544ad731eb7667">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da <a class="el" href="main_8c.html#a6288eba0f8e8ad3ab1544ad731eb7667" title="Descrição da main()">main()</a> </p>
<p>Criação e inicialização das threads: <br  />
</p><ul>
<li>thread_ADC_Sample: Thread periódica onde é feita a leitura da tensão na ADC (Período de amostragem = 1seg); <br  />
</li>
<li>thread_PWM_DutyCycle: Thread esporádica onde é alterado o Duty-cycle do sinal PWM; <br  />
</li>
<li>thread_Insert_Value: Thread esporádica onde são introduzidos os valores para programar o brilho do LED no modo automático (Hora e Intensidade do brilho); <br  />
</li>
<li>thread_ControladorP: Thread esporádica onde é ajustado o brilho do LED para um certo valor através de um controlador P; <br  />
</li>
<li>thread_Calendario: Thread periódica onde é implementado o calendário (neste caso horário diário). Aqui é definido qual o valor do brilho a que o LED deve estar, consoante os valores introduzidos na thread_Insert_Value. A cada hora é alterado o valor do brilho definido, que será depois lido no controlador (Período = 30seg). <br  />
 <dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a98f74c238e267f88c13289edcab3a2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f74c238e267f88c13289edcab3a2b9">&#9670;&nbsp;</a></span>thread_ADC_Sample_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_ADC_Sample_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da <a class="el" href="main_8c.html#a98f74c238e267f88c13289edcab3a2b9" title="Descrição da thread_ADC_Sample_code()">thread_ADC_Sample_code()</a> </p>
<p>Função da thread periódica para a obtenção das amostras da ADC. <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fifo_ADC_PWM</td><td>Fifo da thread onde é escrito o valor da ADC lida. </td></tr>
    <tr><td class="paramname">data_ADC_PWM</td><td>Variável que escreve o valor da ADC no fifo da thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>

</div>
</div>
<a id="a9b56d46175cdd6294ef89dcdaeac32c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b56d46175cdd6294ef89dcdaeac32c2">&#9670;&nbsp;</a></span>thread_Calendario_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_Calendario_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da <a class="el" href="main_8c.html#a9b56d46175cdd6294ef89dcdaeac32c2" title="Descrição da thread_Calendario_code()">thread_Calendario_code()</a> </p>
<p>Função da thread periódica para a criação do calendario. O calendario, neste caso, é um horário diário, de 0 a 23h. <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Calendario</td><td>Array de 24 posições, onde cada posição corresponde a uma hora do dia. </td></tr>
    <tr><td class="paramname">Hora_atual</td><td>Variável que é incrementada a cada período da thread, simulando a passagem das horas.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>

</div>
</div>
<a id="a3d5ac9fc501997e3e661dd3317d0a386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5ac9fc501997e3e661dd3317d0a386">&#9670;&nbsp;</a></span>thread_ControladorP_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_ControladorP_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da função de configuração da <a class="el" href="main_8c.html#a3d5ac9fc501997e3e661dd3317d0a386" title="Descrição da função de configuração da thread_ControladorP_code()">thread_ControladorP_code()</a> </p>
<p>Função da thread esporádica para a implementação do controlador P responsável por controlar o brilho do LED no modo automático, consoante o valor do brilho introduzido pelo utilizador para uma certa hora. <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>Ganho proporcional do controlador P. </td></tr>
    <tr><td class="paramname">e</td><td>Variável do erro entre o valor do brilho introduzido (setpoint) e o valor atual de duty-cycle do sinal PWM.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>

</div>
</div>
<a id="a933249ce2cfe73e06623d8a1295479e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933249ce2cfe73e06623d8a1295479e2">&#9670;&nbsp;</a></span>thread_Insert_Value_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_Insert_Value_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da função de configuraçãoo <a class="el" href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2" title="Descrição da função de configuraçãoo thread_Insert_Value_code()">thread_Insert_Value_code()</a> </p>
<p>Função da thread esporádica onde é inserida a hora à qual se deseja alterar o brilho do LED, assim como o brilho desejado. <br  />
Para entrar no menu que mudança de brilho do led, selecionar 'b'. De seguida, introduzir a hora (entre 0 e 23h) e o brilho desejado (0 a 100%). <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Variável que recebe o caractér introduzido no terminal. </td></tr>
    <tr><td class="paramname">H</td><td>Variável com a hora introduzida pelo utilizador. </td></tr>
    <tr><td class="paramname">New_DutyCycle</td><td>Variável com o valor do brilho introduzido pelo utilizador. </td></tr>
    <tr><td class="paramname">i</td><td>Variável para o ciclo while de introdução de valores.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>

</div>
</div>
<a id="ae29895347497403c5f71d16b739fde6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29895347497403c5f71d16b739fde6f">&#9670;&nbsp;</a></span>thread_PWM_DutyCycle_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_PWM_DutyCycle_code </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descrição da <a class="el" href="main_8c.html#ae29895347497403c5f71d16b739fde6f" title="Descrição da thread_PWM_DutyCycle_code()">thread_PWM_DutyCycle_code()</a> </p>
<p>Função da thread esporádica onde é feita a conversão do valor da ADC para duty-cycle. Este valor de duty-cycle é, de seguida, atualizado no sinal de saída PWM, ajustando o brilho do LED. <br  />
Nesta thread é feito ainda a escolha do modo do sistema: modo manual ou automático. Com base no modo escolhido, o duty-cycle do sinal PWM pode ser alterado através de dois dos botões da placa (modo manual), ou escolhendo o brilho desejado através do terminal, sendo o valor do duty-cycle ajustado através de um controlador (modo automático). <br  />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fifo_ADC_PWM</td><td>Fifo de onde é recebido o valor da ADC lido. </td></tr>
    <tr><td class="paramname">fifo_PWM_P</td><td>Fifo onde será escrito o valor atual do duty-cycle do sinal PWM, apenas no modo automático, para ser lido na thread do controlador. </td></tr>
    <tr><td class="paramname">data_ADC_PWM</td><td>Variável que recebe o valor do FIFO_ADC_PWM com o valor da ADC. </td></tr>
    <tr><td class="paramname">data_PWM_P</td><td>Variável com o valor de duty-cycle a ser escrito no fifo fifo_PWM_P. </td></tr>
    <tr><td class="paramname">aux</td><td>Soma do valor atual do duty-cyle com o valor de 'luz' no modo manual.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeab0d7c5e7d5008a33bde6def2d2ef90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab0d7c5e7d5008a33bde6def2d2ef90">&#9670;&nbsp;</a></span>auto_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int auto_flag = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag que indica quando o modo automático é ativado (auto_flag = 1 quando o modo é selecionado). </p>

</div>
</div>
<a id="a9786dd6a7105357cad49ad8eec273c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9786dd6a7105357cad49ad8eec273c15">&#9670;&nbsp;</a></span>block_print</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int block_print = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag que quando ativada (block_print = 1) bloqueia todos os prints enquanto são introduzidos valores na thread <a class="el" href="main_8c.html#a933249ce2cfe73e06623d8a1295479e2" title="Descrição da função de configuraçãoo thread_Insert_Value_code()">thread_Insert_Value_code()</a>. </p>

</div>
</div>
<a id="a846de3054c899e0c47488f92bdff8637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846de3054c899e0c47488f92bdff8637">&#9670;&nbsp;</a></span>Brilho</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Brilho = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valor introduzido pelo utilizador para o Brilho. </p>

</div>
</div>
<a id="af59c67fb2cb37b843493767aa526663c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af59c67fb2cb37b843493767aa526663c">&#9670;&nbsp;</a></span>Hora</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Hora = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valor introduzido pelo utilizador para a hora. </p>

</div>
</div>
<a id="a0680f85ca8b2902b7d070b666149c466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0680f85ca8b2902b7d070b666149c466">&#9670;&nbsp;</a></span>luz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int luz = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valor a incrementar/decrementar ao duty-cycle no modo manual. </p>

</div>
</div>
<a id="a3ebd0f387abd8e0f8b284f7433de1a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ebd0f387abd8e0f8b284f7433de1a3b">&#9670;&nbsp;</a></span>man_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int man_flag = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag que indica quando o modo manual é ativado (man_flag = 1 quando modo é selecionado). </p>

</div>
</div>
<a id="aa31cdd06723ceea6571330810625af1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa31cdd06723ceea6571330810625af1b">&#9670;&nbsp;</a></span>setpoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int setpoint = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variável do controlador com o valor introduzido pelo utilizador para o brilho do LED. </p>

</div>
</div>
<a id="af8265742cf0fd4ebe20e3f78aa79531a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8265742cf0fd4ebe20e3f78aa79531a">&#9670;&nbsp;</a></span>u</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int u = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sinal de controlo do controlador P. </p>

</div>
</div>
<a id="acbbb8dc9e34f2cbd68792504dc18da81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbbb8dc9e34f2cbd68792504dc18da81">&#9670;&nbsp;</a></span>uart_cfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct uart_config uart_cfg</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        .baudrate = 115200,</div>
<div class="line">        .parity = UART_CFG_PARITY_NONE,</div>
<div class="line">        .stop_bits = UART_CFG_STOP_BITS_1,</div>
<div class="line">        .data_bits = UART_CFG_DATA_BITS_8,</div>
<div class="line">        .flow_ctrl = UART_CFG_FLOW_CTRL_NONE</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
